define("ps_multiplayer",["ps_view","ps_model","ps_window","ps_language"],function(){var e=arguments[0],a=arguments[1],n=arguments[2],t=(arguments[3],{is_page_rendered:!1}),_={events:function(e){n.new_instance(function(n){var t=$(e.$el).find(".ps_js-multiplayer_display");t.on("games_template_clicked",function(a,t){e.last_game_open=t,n.open("","width=800, height=717")}),t.on("games_template_success",function(a,t,_){e.last_multiplayer_open=t,t===e.last_game_open&&n.redirect(_.URL)}),t.on("games_template_error",function(a,t,_){t===e.last_game_open&&n.close()}),t.on("games_template_play",function(t,_){a.play(_,e.hash_info.productID,{success:function(a){_===e.last_game_open&&n.redirect(a.URL)},fail:function(a){_===e.last_game_open&&(n.close(),games_display.trigger("games_template_error",_,a))}})})})}};return{activate:function(n,s){var p=$(".ps_js-page_"+s.page);0==t.is_page_rendered?(t.is_page_rendered=!0,e.render(p,"multiplayer",{replace:!1,data:{hash_info:s,last_multiplayer_open:null},mounted:function(){var e=this;a.update_page_rendered(e.hash_info.page),_.events(e)}})):p.find(".ps_js-multiplayer_display").trigger("games_template_reload")}}});