define("ps_games",["ps_view","ps_model","ps_window","ps_language"],function(){var e=arguments[0],a=arguments[1],n=arguments[2],_=(arguments[3],{is_page_rendered:!1}),s={events:function(e){n.new_instance(function(n){var _=$(e.$el).find(".ps_js-games_display");_.on("games_template_clicked",function(a,_){e.last_game_open=_,n.open("","width=800, height=717")}),_.on("games_template_success",function(a,_,s){e.last_game_open=_,_===e.last_game_open&&n.redirect(s.URL)}),_.on("games_template_error",function(a,_,s){_===e.last_game_open&&n.close()}),_.on("games_template_play",function(s,t){a.play(t,e.hash_info.productID,{success:function(a){t===e.last_game_open&&n.redirect(a.URL)},fail:function(a){t===e.last_game_open&&(n.close(),_.trigger("games_template_error",t,a))}})})})}};return{activate:function(n,t){var p=$(".ps_js-page_"+t.page);0==_.is_page_rendered?(_.is_page_rendered=!0,e.render(p,"games",{replace:!1,data:{hash_info:t,last_game_open:null},mounted:function(){var e=this;a.update_page_rendered(e.hash_info.page),s.events(e)}})):p.find(".ps_js-games_display").trigger("games_template_reload")}}});