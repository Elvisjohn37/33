define("ps_announcement",["jquery","ps_store","ps_view","ps_model","ps_helper"],function(){"use strict";var n=arguments[0],e=arguments[1],t=arguments[2],o=arguments[3],a=(arguments[4],{is_page_rendered:!1,store:new e("ps_announcement")}),i={announcement_page_info:function(){if(!a.store.store_exists("info"))return a.store.store_update("info",{announcement_loading:!0,announcement_page:null}),a.store.store_fetch("info")},load_now:function(){var n=this;o.view_data({success:function(){i.announcement.activate(function(e){n.announcement=e}),o.update_page_rendered(n.hash_info.page),n.is_init=!0}})},announcement:{activate:function(n){a.store.store_update("info",{announcement_loading:!0}),o.get_announcement({success:n,complete:function(){a.store.store_update("info",{announcement_loading:!1})}})}}};return{activate:function(e,o){var s=i.announcement_page_info();if(a.is_page_rendered)i.announcement.activate();else{a.is_page_rendered=!0;var u=n(".ps_js-page_"+o.page);t.render(u,"announcement",{replace:!1,data:{hash_info:o,page_info:s,announcement:{rows:[],total:0},is_init:!1},computed:{announcement_length:function(){return this.announcement.rows.length}},mounted:i.load_now})}}}});